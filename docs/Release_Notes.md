
# Release Notes

 - **v1.1.0** - 2019/09/13
   - **新規機能の追加はあまりありませんが、ほぼ全てのファイルを修正したのでメジャーバージョンアップです**
   - 諸々不具合が修正されていると思います
   - コメントのフォントサイズをある程度変えられるようにした
     - プレイヤーのコア部分を弄ったので疲れました…
   - ファイル再生時に字幕をストリームに含めるかどうか設定できるようにした
     - ごく稀に字幕をストリームに含めると途中でエンコードに失敗してしまう録画があるためです
     - デフォルトはオンになっています、問題があった時のみオフにすることをおすすめします
   - TVRemoteViewer での番組表取得に関する情報を追記
   - コメント一覧をスクロールしている時に新しいコメントが来ると強制で下にスクロールされてしまう不具合を修正
     - 色々悩みましたが、結局 YouTube Live っぽい仕様にしました
   - 生放送時に一時停止した状態にするとコメントが溜まりに溜まる不具合を修正
   - ニコニコ実況がメンテナンスの際にメンテナンス表示を出すようにした
     - 丁度最近メンテナンスがあったのでそのついでです
   - ニコニコ実況の過去ログ取得時にコメントが多すぎる（例：ラピュタ）と実行時間制限を超えてタイムアウトしコメントが取得できない不具合を修正
     - 正直ラピュタレベルはコメントが多すぎてまともに再生できませんでした…（Canvasにしたほうが大量のコメントには強いんでしょうけど、改造元のプレイヤーがCSSアニメーションで実現させる方式のためどうしてもコメントが多くなるとかなり重くなってしまいます）
   - iOS 環境でファイル再生時にシークが出来ない（バー自体が出ない）不具合を修正
     - Safari の仕様で HLS ストリーミング再生時は video.duration が取得出来ないらしく、こちらもプレイヤーのコア部分を大幅に弄ったので疲れました
   - スマホなどのタッチデバイスでのシーク時に再生させながらシークしようとするとシークバーが荒ぶる不具合を修正
     - シーク中は一旦動画を一時停止させるようにしました
     - これもプレイヤーのコア部分を大幅ｎ（ｒｙ
   - 個人設定が数日で切れてしまう不具合を修正
     - Cookie の有効期限を365日にしました
   - 個人設定の読み込みに失敗する不具合を修正
   - スマホで見た際にヘッダーのロゴを中央寄せするようにした
   - ヘッダーのアイコンにマウスをかざした際に丸くホバーするようにした
   - 右上のサブメニュー周りの変更
     - サブメニューを閉じる際に透明な要素を置いて何もないところをクリックしたら変な所を押しちゃった、という事がないようにした
     - サブメニューが引っ込まない不具合を修正した
   - Twitter ログインの有効期限を1週間から3ヶ月に変更
     - 上の Cookie 有効期限変更のついでです
   - 絶対パスに変更しきれていなかった部分の変更
   - 全体的な速度の高速化
   - CSS レイアウト（見た目）の調整
   - 肥大化したコードを大幅に整理
   - インストーラーの微修正
   - ffmpeg.exe → ffmpeg-tvrp.exe・QSVEncC64.exe → QSVEncC64-tvrp.exe・NVEncC64.exe → NVEncC64-tvrp.exe にそれぞれ名前を変更
     - TVRemotePlus 側で他に起動している各 exe のプロセスを謝って全て kill しないための暫定処置です
   - NVEncC を 4.47 に更新
   - リリースノートを書くようにした
     - 毎回変更点が多くて作業してると何をアップデートしたか忘れるためです…
   - その他細かな不具合の修正を山程…

 - **v1.0.2** - 2019/08/30
   - ストリームの画質を向上
   - Chromecast キャスト機能の動作を修正
   - 設定が反映できない不具合を修正
   - その他不具合修正のみです

 - **v1.0.1** - 2019/08/29
   - **コメント描画、サイドメニュー開閉などの随所で使われているアニメーションの大幅な高速化**
     - フロントエンド部分は全て jQuery で書いていたのですが jQuery 自体がかなり遅く、0.5秒ごとなどに実行する処理にしては重すぎたので定期的に実行する処理はピュアJavaScriptで書き直しました
     - animate() は Velocity.js で置き換えました
     - PCだとよくわからないと思いますが、特にローエンドの Android などで今までカクついていたコメントが大分ましになっていると思います（スペックによりますが）
     - **また、プレイヤーの設定→コメントを無制限に表示 をオフにすると、生放送時で0.5秒ごとに実行するコメント取得処理時に一度に描画するコメントを8個に制限します**
       - 金曜ロードショーなど、実況勢いが200を超えるような番組で効果を発揮します
       - **低スペックPCやスマホではこの設定をオフにしておくことをお勧めします**
   - BonDriverチャンネル設定ファイル(.ch2)の取得処理の変更
     - 今まで認識出来ていた.ch2は概ね認識できると思います(思いたい)
     - **BonDriver_FSUSB2N.ch2 などのファイル名の場合、地上波用かBS・CS用か認識できません**
     - 必ず地上波用であれば BonDriver_FSUSB2N_T.ch2・BS・CS用であれば BonDriver_FSUSB2N_S.ch2 のように、ファイル名の最後に T(0-9)かS(0-9)を付けるようにしてください
   - ファイル再生画面の更新時にフェードを掛けるようにした
     - 今までより綺麗だと思います
   - Firefoxにてブックマークから開いた場合に地デジ・BS・CS切り替えタブが機能しない問題を改善
   - インストーラーで予め録画ファイルのあるフォルダを設定出来るようにした
   - Chromecast機能が動かない問題を修正
   - Chromecast機能の再生/停止関連の動作を一部修正
     - 操作の遅延が少なくなると思います
   - ファイル再生画面でリストがない場合にエラーになる問題を修正
   - ストリーム再起動が重複する問題を修正
   - その他不具合修正諸々


 - **v1.0.0** - 2019/08/27
   - **ついに正式版になりました！**（いつまでもRC版できりがなさそうなので…）
   - 環境設定設定を設定ページから変更できるようにした
     - これで config.php を一々いじる必要がなくなる他、設定ミスで文法エラーが起きることもなくなり非常に使いやすくなると思います
   - 録画ファイル増減時にリストを自動で更新するようにした
   - 地デジのチャンネルに BonDriver_*S0.dll などBSCS用BonDriverを、BSCSのチャンネルに BonDriver_*T0.dll などを表示しないようにした
     - 設定ページを作るにあたり不都合になったので一緒に修正しました
   - ストリームが途中で止まってしまった場合に20秒以上ストリームの更新がない事を検知してストリームを再起動するようにした
   - ストリーム開始して30秒以上音沙汰がなければ失敗したと判定して自動でストリーム終了するようにした
   - ファイル再生画面の画面描画時にフェードアニメーションを追加
   - ←キーで5秒巻き戻し・→キーで5秒早送り・スペースキーで再生/停止、(プレイヤーにフォーカスが当たっている状態で)↑キーで音量+・↓キーで音量- が出来るようにした
     - 実際はもっと前から出来たのですが、あまり認知されていなかったのと動作が微妙だったのでまとめて修正しました
   - Twitter ログイン時に Consumer Key 等が間違っていて認証に失敗した際にエラーメッセージを出すようにした
   - サイドメニューのバージョン欄を version 1.0.0 のように表示するようにした
   - アイコンの更新
   - その他諸々の不具合修正